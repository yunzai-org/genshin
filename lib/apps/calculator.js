import{plugin as e,puppeteer as r}from"yunzai";import t from"../model/calculator.js";import l from"../model/blueprint.js";import{GSCfg as a}from"yunzai-mys";class n extends e{constructor(){super({priority:700,rule:[{reg:"^#*(星铁)?(.*)(养成|计算)([0-9]|,|，| )*$",fnc:"Calculator"},{reg:"^#*(星铁)?角色(养成|计算|养成计算)$",fnc:"calculatorHelp"},{reg:"^#*尘歌壶模数(养成|计算|养成计算)$",fnc:"blueprintHelp"},{reg:"^#*尘歌壶(模数|养成|养成计算)(\\d{10,15})$",fnc:"Blueprint"}]})}_path=process.cwd().replace(/\\/g,"/");async blueprintHelp(e){return await e.reply("#尘歌壶模数\n指令：#尘歌壶模数\n示例：#尘歌壶模数123456\n参数为模数id(10-15位数字)"),!0}async calculatorHelp(e){let r="角色养成计算\n指令："+(e.isSr?"*克拉拉养成\n示例：*克拉拉养成75 80 6 9 9 9\n参数为角色、武器、普攻、战技、终结技、天赋":"#刻晴养成\n示例：#刻晴养成81 90 9 9 9\n参数为角色、武器、技能等级");return await e.reply(r),!0}async Blueprint(){let e=this.e.msg.replace(/#/,"").match(/\d+/g),t=await new l(this.e).get(e);if(!t)return;let a=await r.screenshot("Blueprint",t);a&&await this.reply(a)}async Calculator(){let e=a.getRole(this.e.msg,"#|＃|星铁|养成|计算|[0-9]|,|，| ",this.e.isSr);if(!e)return!1;if([10000005,10000007,2e7].includes(Number(e.roleId)))return await this.e.reply("暂不支持旅行者养成计算"),!0;let r=await new t(this.e).get(e);r&&this.renderImg("genshin",`html/calculator/calculator-${r.game}`,r)}}export{n as calculator};
