import{plugin as t,puppeteer as e}from"yunzai";import s from"../model/deck.js";class a extends t{constructor(){super({priority:0,rule:[{reg:"^#*七圣(召唤)?查询(牌|卡)组(列表)?[0-9]{0,2}$",fnc:"deckIndex"},{reg:"^#*七圣(召唤)?查询(角色|行动)?(卡)?牌(列表)?$",fnc:"deck_cards"}]}),this.button=segment.button([{text:"牌组",callback:"#七圣召唤查询牌组"},{text:"角色牌",callback:"#七圣召唤查询角色牌"},{text:"行动牌",callback:"#七圣召唤查询行动牌"}])}async deckIndex(){let t=this.e.msg.match(/[0-9]{1,2}/g);t&&t[0]?await this.deck(t[0]):await this.deck_list()}async deck(t){let a=await new s(this.e).getIndex(t);if(!a)return;let i=await e.screenshot("deck",a);i&&await this.reply([i,this.button])}async deck_list(t=0){let a=await new s(this.e).getIndex(t,!0);if(!a)return;let i=await e.screenshot("deckList",a);i&&await this.reply([i,this.button])}async deck_cards(t=0){this.e.msg.includes("角色")&&(t=1),this.e.msg.includes("行动")&&(t=2),await this.reply("卡牌数据获取中...");let a=await new s(this.e).getcard(t);if(!a)return;let i=await e.screenshot("deckCard",a);i&&await this.reply([i,this.button])}}export{a as sevenSaints};
