import e from"lodash";import{ConfigController as s}from"yunzai";import{Common as t,Version as i,Character as r}from"../miao.js";class a{constructor(e={}){this.e=e,this.userId=e?.user_id}model="genshin";_path=process.cwd().replace(/\\/g,"/");get prefix(){return`Yz:genshin:${this.model}:`}async renderImg(e,s,i={}){return t.render("genshin",`html/${e}`,s,{...i,e:this.e})}get screenData(){const t=process.cwd()+"/plugins/genshin/resources/html/layout/";let a=s.package.name;a="miao-yunzai"==a?"Miao-Yunzai":"yunzai"==a?"Yunzai-Bot":"trss-yunzai"==a?"TRSS-Yunzai":e.capitalize(a);let n={saveId:this.userId,cwd:this._path,yzVersion:`v${i.yunzai}`,yzName:a,genshinLayout:t+"genshin.html",defaultLayout:t+"default.html"};if(this.e?.isSr){let e=r.get("黑天鹅","sr");return{...n,tplFile:`./plugins/genshin/resources/StarRail/html/${this.model}/${this.model}.html`,pluResPath:`${this._path}/plugins/genshin/resources/StarRail/`,srtempFile:"StarRail/",headImg:e?.imgs?.banner,game:"sr"}}let l=r.get("闲云","gs");return{...n,tplFile:`./plugins/genshin/resources/html/${this.model}/${this.model}.html`,pluResPath:`${this._path}/plugins/genshin/resources/`,headImg:l?.imgs?.banner,srtempFile:"",game:"gs"}}}export{a as default};
